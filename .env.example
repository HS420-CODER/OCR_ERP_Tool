# =============================================================================
# ERP Arabic OCR Microservice - Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
ENVIRONMENT=development                # development, staging, production
APP_VERSION=2.0.0                     # Application version
DEBUG=false                           # Enable debug mode (never in production)

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
SERVER_HOST=0.0.0.0                   # Bind address
SERVER_PORT=5000                      # Port number
WORKERS=4                             # Gunicorn worker processes
THREADS=2                             # Threads per worker
REQUEST_TIMEOUT=120                   # Request timeout in seconds

# -----------------------------------------------------------------------------
# OCR Engine Configuration
# -----------------------------------------------------------------------------
OCR_ENGINE_MODE=fusion                # paddle_only, easyocr_only, multi_engine, fusion
OCR_LANGUAGES=ar,en                   # Comma-separated language codes
IMAGE_PREPROCESSING=true              # Enable image preprocessing
MAX_IMAGE_SIZE_MB=20                  # Maximum image size in MB

# PaddleOCR Settings
PADDLE_USE_ANGLE_CLS=true             # Enable angle classification
PADDLE_USE_GPU=false                  # Enable GPU acceleration
PADDLE_DET_MODEL_DIR=                 # Custom detection model directory
PADDLE_REC_MODEL_DIR=                 # Custom recognition model directory
PADDLE_CLS_MODEL_DIR=                 # Custom classification model directory

# EasyOCR Settings
EASYOCR_GPU=false                     # Enable GPU acceleration
EASYOCR_MODEL_STORAGE=                # Custom model storage directory

# Fusion Settings
FUSION_STRATEGY=confidence_weighted   # confidence_weighted, majority_voting, dictionary_validated
FUSION_CONFIDENCE_THRESHOLD=0.7       # Minimum confidence for fusion

# -----------------------------------------------------------------------------
# LLM Correction Service
# -----------------------------------------------------------------------------
LLM_ENABLED=true                      # Enable LLM post-correction
LLM_API_URL=https://api.openai.com/v1 # OpenAI-compatible API endpoint
LLM_API_KEY=your-api-key-here         # API key (required if LLM enabled)
LLM_MODEL=gpt-4o-mini                 # Model name
LLM_MAX_TOKENS=2048                   # Maximum tokens in response
LLM_TEMPERATURE=0.1                   # Temperature (lower = more deterministic)
LLM_TIMEOUT=30                        # Request timeout in seconds
LLM_RETRY_ATTEMPTS=3                  # Number of retry attempts

# -----------------------------------------------------------------------------
# Redis Cache Configuration
# -----------------------------------------------------------------------------
CACHE_ENABLED=true                    # Enable result caching
REDIS_URL=redis://localhost:6379/0    # Redis connection URL
REDIS_HOST=localhost                  # Redis host
REDIS_PORT=6379                       # Redis port
REDIS_DB=0                            # Redis database number
REDIS_PASSWORD=                       # Redis password (if required)
CACHE_TTL_SECONDS=3600                # Cache TTL (1 hour)
REDIS_MAX_CONNECTIONS=10              # Maximum Redis connections

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
REQUIRE_API_KEY=true                  # Require API key for authentication
API_KEYS=key1,key2,key3               # Comma-separated valid API keys

# Rate Limiting
RATE_LIMIT_ENABLED=true               # Enable rate limiting
RATE_LIMIT_PER_MINUTE=60              # Requests per minute per client
RATE_LIMIT_PER_HOUR=1000              # Requests per hour per client

# File Security
ALLOWED_EXTENSIONS=png,jpg,jpeg,pdf,tiff,bmp
MAX_FILE_SIZE_MB=20                   # Maximum file size in MB

# CORS
CORS_ORIGINS=*                        # Comma-separated allowed origins

# -----------------------------------------------------------------------------
# Monitoring & Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO                        # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json                       # json or text
LOG_FILE=                             # Log file path (optional)

METRICS_ENABLED=true                  # Enable Prometheus metrics
METRICS_PORT=9090                     # Metrics endpoint port

HEALTH_CHECK_INTERVAL=30              # Health check interval in seconds

# -----------------------------------------------------------------------------
# Resource Management
# -----------------------------------------------------------------------------
MAX_CONCURRENT_REQUESTS=10            # Maximum concurrent OCR requests
MAX_MEMORY_PERCENT=80                 # Maximum memory usage percentage
MAX_CPU_PERCENT=90                    # Maximum CPU usage percentage
TEMP_DIR=/tmp/ocr                     # Temporary file directory

# -----------------------------------------------------------------------------
# Production Settings (uncomment for production)
# -----------------------------------------------------------------------------
# ENVIRONMENT=production
# DEBUG=false
# REQUIRE_API_KEY=true
# LOG_LEVEL=WARNING
# LLM_API_KEY=your-production-api-key
# API_KEYS=your-secure-production-keys
# REDIS_PASSWORD=your-redis-password
